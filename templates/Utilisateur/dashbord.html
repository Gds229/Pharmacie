{% extends "Utilisateur/en-tête-utilisateur.html" %}
{% load static%}

{% block titre %}Tableau de bord{% endblock titre %}

{% block dashbord %}active{% endblock %}
{% block produits_dispo %}{% endblock %}
{% block new_produits %}{% endblock %}
{% block demande_achat %}{% endblock %}

{% block content %}
<head>
	<!-- Site favicon -->
	<link rel="apple-touch-icon" sizes="180x180" href={% static "vendors/images/apple-touch-icon.png" %}>
	<link rel="icon" type="image/png" sizes="32x32" href={% static "vendors/images/favicon-32x32.png" %}>
	<link rel="icon" type="image/png" sizes="16x16" href={% static "vendors/images/favicon-16x16.png" %}>

	<!-- Mobile Specific Metas -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- Google Font -->
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
	<!-- CSS -->
	<link rel="stylesheet" type="text/css" href={% static "vendors/styles/core.css" %}>
	<link rel="stylesheet" type="text/css" href={% static "vendors/styles/icon-font.min.css" %}>
	<link rel="stylesheet" type="text/css" href={% static "src/plugins/datatables/css/dataTables.bootstrap4.min.css" %}>
	<link rel="stylesheet" type="text/css" href={% static "src/plugins/datatables/css/responsive.bootstrap4.min.css" %}>
	<link rel="stylesheet" type="text/css" href={% static "vendors/styles/style.css" %}>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-119386393-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-119386393-1');
	</script>
</head>
<body>
	<div class="left-side-bar">
		<div class="brand-logo">
			<a href="index.html">
				<img src="vendors/images/deskapp-logo.svg" alt="" class="dark-logo">
				<img src="vendors/images/deskapp-logo-white.svg" alt="" class="light-logo">
			</a>
			<div class="close-sidebar" data-toggle="left-sidebar-close">
				<i class="ion-close-round"></i>
			</div>
		</div>
		<div class="menu-block customscroll">
			<div class="sidebar-menu">
				<ul id="accordion-menu">
					<li class="dropdown">
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-house-1"></span><span class="mtext">Home</span>
						</a>
						<ul class="submenu">
							<li><a href="index.html">Dashboard style 1</a></li>
							<li><a href="index2.html">Dashboard style 2</a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-edit2"></span><span class="mtext">Forms</span>
						</a>
						<ul class="submenu">
							<li><a href="form-basic.html">Form Basic</a></li>
							<li><a href="advanced-components.html">Advanced Components</a></li>
							<li><a href="form-wizard.html">Form Wizard</a></li>
							<li><a href="html5-editor.html">HTML5 Editor</a></li>
							<li><a href="form-pickers.html">Form Pickers</a></li>
							<li><a href="image-cropper.html">Image Cropper</a></li>
							<li><a href="image-dropzone.html">Image Dropzone</a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-library"></span><span class="mtext">Tables</span>
						</a>
						<ul class="submenu">
							<li><a href="basic-table.html">Basic Tables</a></li>
							<li><a href="datatable.html">DataTables</a></li>
						</ul>
					</li>
					<li>
						<a href="calendar.html" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-calendar1"></span><span class="mtext">Calendar</span>
						</a>
					</li>
					<li class="dropdown">
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-apartment"></span><span class="mtext"> UI Elements </span>
						</a>
						<ul class="submenu">
							<li><a href="ui-buttons.html">Buttons</a></li>
							<li><a href="ui-cards.html">Cards</a></li>
							<li><a href="ui-cards-hover.html">Cards Hover</a></li>
							<li><a href="ui-modals.html">Modals</a></li>
							<li><a href="ui-tabs.html">Tabs</a></li>
							<li><a href="ui-tooltip-popover.html">Tooltip &amp; Popover</a></li>
							<li><a href="ui-sweet-alert.html">Sweet Alert</a></li>
							<li><a href="ui-notification.html">Notification</a></li>
							<li><a href="ui-timeline.html">Timeline</a></li>
							<li><a href="ui-progressbar.html">Progressbar</a></li>
							<li><a href="ui-typography.html">Typography</a></li>
							<li><a href="ui-list-group.html">List group</a></li>
							<li><a href="ui-range-slider.html">Range slider</a></li>
							<li><a href="ui-carousel.html">Carousel</a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-paint-brush"></span><span class="mtext">Icons</span>
						</a>
						<ul class="submenu">
							<li><a href="font-awesome.html">FontAwesome Icons</a></li>
							<li><a href="foundation.html">Foundation Icons</a></li>
							<li><a href="ionicons.html">Ionicons Icons</a></li>
							<li><a href="themify.html">Themify Icons</a></li>
							<li><a href="custom-icon.html">Custom Icons</a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-analytics-21"></span><span class="mtext">Charts</span>
						</a>
						<ul class="submenu">
							<li><a href="highchart.html">Highchart</a></li>
							<li><a href="knob-chart.html">jQuery Knob</a></li>
							<li><a href="jvectormap.html">jvectormap</a></li>
							<li><a href="apexcharts.html">Apexcharts</a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-right-arrow1"></span><span class="mtext">Additional Pages</span>
						</a>
						<ul class="submenu">
							<li><a href="video-player.html">Video Player</a></li>
							<li><a href="login.html">Login</a></li>
							<li><a href="forgot-password.html">Forgot Password</a></li>
							<li><a href="reset-password.html">Reset Password</a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-browser2"></span><span class="mtext">Error Pages</span>
						</a>
						<ul class="submenu">
							<li><a href="400.html">400</a></li>
							<li><a href="403.html">403</a></li>
							<li><a href="404.html">404</a></li>
							<li><a href="500.html">500</a></li>
							<li><a href="503.html">503</a></li>
						</ul>
					</li>

					<li class="dropdown">
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-copy"></span><span class="mtext">Extra Pages</span>
						</a>
						<ul class="submenu">
							<li><a href="blank.html">Blank</a></li>
							<li><a href="contact-directory.html">Contact Directory</a></li>
							<li><a href="blog.html">Blog</a></li>
							<li><a href="blog-detail.html">Blog Detail</a></li>
							<li><a href="product.html">Product</a></li>
							<li><a href="product-detail.html">Product Detail</a></li>
							<li><a href="faq.html">FAQ</a></li>
							<li><a href="profile.html">Profile</a></li>
							<li><a href="gallery.html">Gallery</a></li>
							<li><a href="pricing-table.html">Pricing Tables</a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-list3"></span><span class="mtext">Multi Level Menu</span>
						</a>
						<ul class="submenu">
							<li><a href="javascript:;">Level 1</a></li>
							<li><a href="javascript:;">Level 1</a></li>
							<li><a href="javascript:;">Level 1</a></li>
							<li class="dropdown">
								<a href="javascript:;" class="dropdown-toggle">
									<span class="micon fa fa-plug"></span><span class="mtext">Level 2</span>
								</a>
								<ul class="submenu child">
									<li><a href="javascript:;">Level 2</a></li>
									<li><a href="javascript:;">Level 2</a></li>
								</ul>
							</li>
							<li><a href="javascript:;">Level 1</a></li>
							<li><a href="javascript:;">Level 1</a></li>
							<li><a href="javascript:;">Level 1</a></li>
						</ul>
					</li>
					<li>
						<a href="sitemap.html" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-diagram"></span><span class="mtext">Sitemap</span>
						</a>
					</li>
					<li>
						<a href="chat.html" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-chat3"></span><span class="mtext">Chat</span>
						</a>
					</li>
					<li>
						<a href="invoice.html" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-invoice"></span><span class="mtext">Invoice</span>
						</a>
					</li>
					<li>
						<div class="dropdown-divider"></div>
					</li>
					<li>
						<div class="sidebar-small-cap">Extra</div>
					</li>
					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<span class="micon dw dw-edit-2"></span><span class="mtext">Documentation</span>
						</a>
						<ul class="submenu">
							<li><a href="introduction.html">Introduction</a></li>
							<li><a href="getting-started.html">Getting Started</a></li>
							<li><a href="color-settings.html">Color Settings</a></li>
							<li><a href="third-party-plugins.html">Third Party Plugins</a></li>
						</ul>
					</li>
					<li>
						<a href="https://dropways.github.io/deskapp-free-single-page-website-template/" target="_blank" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-paper-plane1"></span>
							<span class="mtext">Landing Page <img src="vendors/images/coming-soon.png" alt="" width="25"></span>
						</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div class="mobile-menu-overlay"></div>

	<div class="main-container">
		<div class="pd-ltr-20">
			{% for phamacie in phamacie %}
			<div class="card-box pd-20 height-100-p mb-30">
				<div class="row align-items-center">
					<div class="col-md-4 h-50 w-50">
						<img src="{{phamacie.image.url}}" alt="">
					</div>
					<div class="col-md-8">
						<h4 class="font-20 weight-500 mb-10 text-capitalize">
							Bienvenu à la pharmacie <div class="weight-600 font-30 text-blue">{{user.username}}</div>
						</h4>
						<div class="font-18 max-width-100" style="height: 100%;width: 100%;">{{phamacie.descrp}}</div>
					</div>
				</div>
			</div>
			{% endfor %}
			<div class="row">
				<div class="col-xl-3 mb-30">
					<div class="card-box height-100-p widget-style1">
						<div class="d-flex flex-wrap align-items-center">
							<div class="progress-data">
								<div id="chart"></div>
							</div>
							<div class="widget-data">
								<div class="h4 mb-0">{{produits}}</div>
								<div class="weight-600 font-14">Produit</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xl-3 mb-30">
					<div class="card-box height-100-p widget-style1">
						<div class="d-flex flex-wrap align-items-center">
							<div class="progress-data">
								<div id="chart2"></div>
							</div>
							<div class="widget-data">
								<div class="h4 mb-0">{{demandes}}</div>
								<div class="weight-600 font-14">Demande en attente</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xl-3 mb-30">
					<div class="card-box height-100-p widget-style1">
						<div class="d-flex flex-wrap align-items-center">
							<div class="progress-data">
								<div id="chart3"></div>
							</div>
							<div class="widget-data">
								<div class="h4 mb-0">{{demande_valider}}</div>
								<div class="weight-600 font-14">Demande accepter</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xl-3 mb-30">
					<div class="card-box height-100-p widget-style1">
						<div class="d-flex flex-wrap align-items-center">
							<div class="progress-data">
								<div id="chart4"></div>
							</div>
							<div class="widget-data">
								<div class="h4 mb-0">{{demande_refuser}}</div>
								<div class="weight-600 font-14">Demande refuser</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-8 mb-30">
					<div class="card-box height-100-p pd-20">
						<h2 class="h4 mb-20">Demande</h2>
						<div id="chart5"></div>
					</div>
				</div>
				<div class="col-xl-4 mb-30">
					<div class="card-box height-100-p pd-20">
						<h2 class="h4 mb-20">Poucentage des produits/site</h2>
						<div id="chart6"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- js -->
	<script src={% static "vendors/scripts/core.js" %}></script>
	<script src={% static "vendors/scripts/script.min.js" %}></script>
	<script src={% static "vendors/scripts/process.js" %}></script>
	<script src={% static "vendors/scripts/layout-settings.js" %}></script>
	<script src={% static "src/plugins/apexcharts/apexcharts.min.js" %}></script>
	<script src={% static "src/plugins/datatables/js/jquery.dataTables.min.js" %}></script>
	<script src={% static "src/plugins/datatables/js/dataTables.bootstrap4.min.js" %}></script>
	<script src={% static "src/plugins/datatables/js/dataTables.responsive.min.js" %}></script>
	<script src={% static "src/plugins/datatables/js/responsive.bootstrap4.min.js" %}></script>
	<!--<script src={% static "vendors/scripts/dashboard.js" %}></script>-->
	<script type="text/javascript">
		var options = {
			series: [{{produitsPoucentage}}],
			grid: {
				padding: {
					top: 0,
					right: 0,
					bottom: 0,
					left: 0
				},
			},
			chart: {
				height: 100,
				width: 70,
				type: 'radialBar',
			},	
			plotOptions: {
				radialBar: {
					hollow: {
						size: '50%',
					},
					dataLabels: {
						name: {
							show: false,
							color: '#fff'
						},
						value: {
							show: true,
							color: '#333',
							offsetY: 5,
							fontSize: '15px'
						}
					}
				}
			},
			colors: ['#ecf0f4'],
			fill: {
				type: 'gradient',
				gradient: {
					shade: 'dark',
					type: 'diagonal1',
					shadeIntensity: 0.8,
					gradientToColors: ['#1b00ff'],
					inverseColors: false,
					opacityFrom: [1, 0.2],
					opacityTo: 1,
					stops: [0, 100],
				}
			},
			states: {
				normal: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
				hover: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
				active: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
			}
		};
		
		var options2 = {
			series: [{{demandesPoucentage}}],
			grid: {
				padding: {
					top: 0,
					right: 0,
					bottom: 0,
					left: 0
				},
			},
			chart: {
				height: 100,
				width: 70,
				type: 'radialBar',
			},	
			plotOptions: {
				radialBar: {
					hollow: {
						size: '50%',
					},
					dataLabels: {
						name: {
							show: false,
							color: '#fff'
						},
						value: {
							show: true,
							color: '#333',
							offsetY: 5,
							fontSize: '15px'
						}
					}
				}
			},
			colors: ['#ecf0f4'],
			fill: {
				type: 'gradient',
				gradient: {
					shade: 'dark',
					type: 'diagonal1',
					shadeIntensity: 1,
					gradientToColors: ['#009688'],
					inverseColors: false,
					opacityFrom: [1, 0.2],
					opacityTo: 1,
					stops: [0, 100],
				}
			},
			states: {
				normal: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
				hover: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
				active: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
			}
		};
		
		var options3 = {
			series: [{{demandesValiderPoucentage}}],
			grid: {
				padding: {
					top: 0,
					right: 0,
					bottom: 0,
					left: 0
				},
			},
			chart: {
				height: 100,
				width: 70,
				type: 'radialBar',
			},	
			plotOptions: {
				radialBar: {
					hollow: {
						size: '50%',
					},
					dataLabels: {
						name: {
							show: false,
							color: '#fff'
						},
						value: {
							show: true,
							color: '#333',
							offsetY: 5,
							fontSize: '15px'
						}
					}
				}
			},
			colors: ['#ecf0f4'],
			fill: {
				type: 'gradient',
				gradient: {
					shade: 'dark',
					type: 'diagonal1',
					shadeIntensity: 0.8,
					gradientToColors: ['#f56767'],
					inverseColors: false,
					opacityFrom: [1, 0.2],
					opacityTo: 1,
					stops: [0, 100],
				}
			},
			states: {
				normal: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
				hover: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
				active: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
			}
		};
		
		var options4 = {
			series: [{{demandesRefuserPoucentage}}],
			grid: {
				padding: {
					top: 0,
					right: 0,
					bottom: 0,
					left: 0
				},
			},
			chart: {
				height: 100,
				width: 70,
				type: 'radialBar',
			},	
			plotOptions: {
				radialBar: {
					hollow: {
						size: '50%',
					},
					dataLabels: {
						name: {
							show: false,
							color: '#fff'
						},
						value: {
							show: true,
							color: '#333',
							offsetY: 5,
							fontSize: '15px'
						}
					}
				}
			},
			colors: ['#ecf0f4'],
			fill: {
				type: 'gradient',
				gradient: {
					shade: 'dark',
					type: 'diagonal1',
					shadeIntensity: 0.8,
					gradientToColors: ['#2979ff'],
					inverseColors: false,
					opacityFrom: [1, 0.5],
					opacityTo: 1,
					stops: [0, 100],
				}
			},
			states: {
				normal: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
				hover: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
				active: {
					filter: {
						type: 'none',
						value: 0,
					}
				},
			}
		};
		
		var options5 = {
			chart: {
				height: 350,
				type: 'bar',
				parentHeightOffset: 0,
				fontFamily: 'Poppins, sans-serif',
				toolbar: {
					show: false,
				},
			},
			colors: ['#1b00ff', '#f56767'],
			grid: {
				borderColor: '#c7d2dd',
				strokeDashArray: 11,
			},
			plotOptions: {
				bar: {
					horizontal: false,
					columnWidth: '25%',
					endingShape: 'rounded'
				},
			},
			dataLabels: {
				enabled: false
			},
			stroke: {
				show: true,
				width: 2,
				colors: ['transparent']
			},
			series: [{
				name: 'Accepter',
				data: [40, 28, 47, 22, 34, 25, 25, 0, 0, 0, 0, 0]
			}, {
				name: 'Refuser',
				data: [30, 20, 37, 10, 28, 11, 25, 0, 0, 0, 0, 0]
			}],
			xaxis: {
				categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
				labels: {
					style: {
						colors: ['#353535'],
						fontSize: '16px',
					},
				},
				axisBorder: {
					color: '#8fa6bc',
				}
			},
			yaxis: {
				title: {
					text: ''
				},
				labels: {
					style: {
						colors: '#353535',
						fontSize: '16px',
					},
				},
				axisBorder: {
					color: '#f00',
				}
			},
			legend: {
				horizontalAlign: 'right',
				position: 'top',
				fontSize: '16px',
				offsetY: 0,
				labels: {
					colors: '#353535',
				},
				markers: {
					width: 10,
					height: 10,
					radius: 15,
				},
				itemMargin: {
					vertical: 0
				},
			},
			fill: {
				opacity: 1
		
			},
			tooltip: {
				style: {
					fontSize: '15px',
					fontFamily: 'Poppins, sans-serif',
				},
				y: {
					formatter: function (val) {
						return val
					}
				}
			}
		}
		
		var options6 = {
			series: [{{produitsPoucentage}}],
			chart: {
			  height: 350,
			  type: 'radialBar',
			  offsetY: 0
			},
			colors: ['#0B132B', '#222222'],
			plotOptions: {
			  radialBar: {
				startAngle: -135,
				endAngle: 135,
				dataLabels: {
				  name: {
					fontSize: '16px',
					color: undefined,
					offsetY: 120
				  },
				  value: {
					offsetY: 76,
					fontSize: '22px',
					color: undefined,
					formatter: function (val) {
					  return val + "%";
					}
				  }
				}
			  }
			},
			fill: {
			  type: 'gradient',
			  gradient: {
				  shade: 'dark',
				  shadeIntensity: 0.15,
				  inverseColors: false,
				  opacityFrom: 1,
				  opacityTo: 1,
				  stops: [0, 50, 65, 91]
			  },
			},
			stroke: {
			  dashArray: 4
			},
			labels: ['Poucentage des produits/site'],
		};
		
		var chart = new ApexCharts(document.querySelector("#chart"), options);
		chart.render();
		
		var chart2 = new ApexCharts(document.querySelector("#chart2"), options2);
		chart2.render();
		
		var chart3 = new ApexCharts(document.querySelector("#chart3"), options3);
		chart3.render();
		
		var chart4 = new ApexCharts(document.querySelector("#chart4"), options4);
		chart4.render();
		
		var chart5 = new ApexCharts(document.querySelector("#chart5"), options5);
		chart5.render();
		
		var chart6 = new ApexCharts(document.querySelector("#chart6"), options6);
		chart6.render();
		
	</script>
</body>
{% endblock content %}